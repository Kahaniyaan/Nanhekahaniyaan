<!-- ‚úÖ Paste from here into your index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nanhe Kahaniyaan - Jahan har kahani sikhaye ek nayi baat</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Comic Neue', cursive;
      margin: 0;
      padding: 0;
      background: #fff8e1;
    }
    header {
      background: #ff9800;
      color: #fff;
      padding: 20px;
      text-align: center;
      font-size: 1.6em;
      font-weight: bold;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    nav {
      display: flex;
      justify-content: center;
      margin: 20px 0;
      flex-wrap: wrap;
      gap: 10px;
    }
    nav button {
      padding: 12px 24px;
      font-size: 1em;
      cursor: pointer;
      border: none;
      background: #29b6f6;
      color: white;
      border-radius: 10px;
      transition: background 0.3s ease;
      box-shadow: 2px 4px 10px rgba(0,0,0,0.1);
    }
    nav button:hover {
      background: #0288d1;
    }
    .tabs {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    .tabs button {
      margin: 8px;
      padding: 10px 20px;
      font-size: 0.95em;
      cursor: pointer;
      border: none;
      background: #ffd54f;
      color: #000;
      border-radius: 6px;
      transition: background 0.3s ease;
      box-shadow: 1px 3px 6px rgba(0,0,0,0.08);
    }
    .tabs button:hover {
      background: #fbc02d;
    }
    .content-section {
      display: none;
      padding: 20px;
      background: #ffffff;
      max-width: 800px;
      margin: auto;
      margin-top: 20px;
      box-shadow: 0 0 15px rgba(0,0,0,0.15);
      border-radius: 12px;
    }
    .active {
      display: block;
    }
    footer {
      background: #3f51b5;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 0.9em;
      margin-top: 50px;
    }
    .logo-section {
      text-align: center;
      margin: 30px auto 10px;
    }
    .logo-section img {
      width: 100px;
      height: auto;
      animation: bounce 2s infinite;
    }
    .logo-section h3 {
      font-size: 1.3em;
      margin-top: 10px;
      color: #444;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    .media-links {
      margin-top: 20px;
    }
    .media-links a {
      display: inline-block;
      margin: 5px 10px;
      text-decoration: none;
      background: #66bb6a;
      color: white;
      padding: 10px 15px;
      border-radius: 6px;
      transition: background 0.3s ease;
    }
    .media-links a:hover {
      background: #388e3c;
    }
    iframe {
      max-width: 100%;
      border-radius: 12px;
    }

    /* Extra button styles for logout/renew */
    .user-actions {
      display: flex;
      justify-content: center;
      margin: 10px 0 0;
      gap: 10px;
    }
    .user-actions button {
      background: #ef5350;
      color: white;
      padding: 8px 16px;
      font-size: 0.9em;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    }
    .user-actions button:hover {
      background: #c62828;
    }
  </style>
</head>
<body>

  <header>
    Nanhe Kahaniyaan ‚Äì Jahan har kahani sikhaye ek nayi baat
  </header>

  <div class="logo-section">
    <img src="Logo456.webp" alt="Logo" />
    <h3>Welcome to Virtual Play School for Your Kids</h3>
  </div>

  <nav>
    <button onclick="showMain('free')">Free Videos & PDFs</button>
    <button onclick="handlePremiumClick()">Premium</button>
  </nav>

  <div class="user-actions" id="premium-actions" style="display:none">
    <button onclick="logout()">Logout</button>
    <button onclick="handlePremiumClick()">Renew</button>
  </div>

  <div class="tabs" id="section-tabs" style="display:none">
    <button onclick="showSection('english')">English</button>
    <button onclick="showSection('hindi')">Hindi</button>
    <button onclick="showSection('math')">Mathematics</button>
    <button onclick="showSection('skill')">Skill Development</button>
    <button onclick="showSection('story')">Stories</button>
    <button onclick="showSection('bangla')">Bangla</button>
  </div>

  <!-- ‚úÖ Free & Premium Content Sections below this -->
  <div class="content-section" id="free">...</div>
  <div class="content-section" id="english">...</div>
  <div class="content-section" id="hindi">...</div>
  <div class="content-section" id="math">...</div>
  <div class="content-section" id="skill">...</div>
  <div class="content-section" id="story">...</div>
  <div class="content-section" id="bangla">...</div>

  <footer>
    <p><strong>About Us:</strong><br>
    Nanhe Kahaniyaan ka maksad hai Bharat ke sabhi bacchon ko kam kharche me acchi, rochak aur manoranjak shiksha dena. Hum ek Virtual Play School hai jahan English, Hindi, Maths, Skill aur Kahaniyon ke madhyam se bachpan ko behtar banaya jata hai.<br><br>
    <strong>Inquiry & Support:</strong> Contact: contactnanhekhaniya@gmail.com</p>
  </footer>

  <script>
    let currentMain = '';

    function showMain(type) {
      currentMain = type;
      if (type === 'free') {
        document.getElementById('section-tabs').style.display = 'none';
        document.getElementById('premium-actions').style.display = 'none';
        hideAllSections();
        document.getElementById('free').classList.add('active');
      } else if (type === 'premium') {
        document.getElementById('section-tabs').style.display = 'flex';
        document.getElementById('premium-actions').style.display = 'flex';
        hideAllSections();
      }
    }

    function showSection(sectionId) {
      hideAllSections();
      document.getElementById(sectionId).classList.add('active');
    }

    function hideAllSections() {
      const sections = document.querySelectorAll('.content-section');
      sections.forEach(section => section.classList.remove('active'));
    }

    async function handlePremiumClick() {
      const access = localStorage.getItem("premium_access");
      const expiry = new Date(localStorage.getItem("premium_expiry"));
      const today = new Date();

      if (access === "granted" && today <= expiry) {
        showMain('premium');
        return;
      } else if (access === "granted" && today > expiry) {
        alert("‚ùó Aapka Premium access expire ho gaya hai. Kripya naya subscription lijiye.");
        document.getElementById('premium-actions').style.display = 'flex';
        return;
      }

      const input = prompt("Enter your premium password:");
      if (input) {
        validatePassword(input);
      }
    }

    async function validatePassword(password) {
      try {
        const res = await fetch("https://script.google.com/macros/s/AKfycby-BYsgIjDZdd0Yl0N9h3f3D1VhrstzITCdp_6D7Jd4Sr6FRPktOi9yB-qKH5mhSWfLnw/exec?password=" + encodeURIComponent(password));
        const data = await res.json();

        if (data.valid) {
          localStorage.setItem("premium_access", "granted");
          const expiryDate = new Date();
          expiryDate.setDate(expiryDate.getDate() + 30);
          localStorage.setItem("premium_expiry", expiryDate.toISOString());
          alert("‚úÖ Access granted to Premium section for 30 days");
          showMain('premium');
        } else {
          alert("‚ùå Invalid or expired password.");
        }
      } catch (err) {
        console.error("Error:", err);
        alert("‚ùå Server error. Please try again later.");
      }
    }

    function logout() {
      localStorage.removeItem("premium_access");
      localStorage.removeItem("premium_expiry");
      alert("üö™ Logout successful. You are now in free section.");
      showMain('free');
    }

    // Auto check on load
    window.onload = function () {
      const access = localStorage.getItem("premium_access");
      const expiry = new Date(localStorage.getItem("premium_expiry"));
      const today = new Date();
      if (access === "granted" && today <= expiry) {
        showMain("premium");
      } else {
        showMain("free");
      }
    };
  </script>
</body>
</html>
